{"ast":null,"code":"var _jsxFileName = \"E:\\\\code\\\\newREACT\\\\tugi-react\\\\tugibus\\\\src\\\\pages\\\\BookTicket.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport Apis, { endpoints } from \"../configs/Apis\";\nimport { useParams } from 'react-router-dom';\nimport { Card, Row, Col, Form, Button, Table, FormControl } from \"react-bootstrap\";\nimport seatimg from '../icon/account.svg';\nimport \"./BookTicket.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BookTicket() {\n  _s();\n\n  const {\n    tripId\n  } = useParams();\n  const {\n    lineId\n  } = useParams();\n  const [seatSelected, setSeatSelected] = useState(\"\");\n  const [tickets, setTickets] = useState({});\n  const [trip, setTrip] = useState({});\n  const [line, setLine] = useState({});\n  const totalPrice = Number(trip.extra_changes) + Number(line.price);\n\n  const changeSeatSelected = id => {\n    setSeatSelected(id);\n  };\n\n  useEffect(() => {\n    const loadTicket = async () => {\n      try {\n        let res = await Apis.get(endpoints['tickets'](tripId));\n        setTickets(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    const loadTrip = async () => {\n      try {\n        let res = await Apis.get(`${endpoints['trips']}${tripId}/`);\n        setTrip(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    const loadLine = async () => {\n      try {\n        let res = await Apis.get(endpoints['line'](lineId));\n        setLine(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    loadTicket();\n    loadTrip();\n    loadLine();\n  }, []);\n  const point = line.start_point;\n  console.log(point);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"55vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title-page\",\n        children: \" \\u0110\\u1EB7t v\\xE9 xe \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          maxWidth: \"900px\",\n          margin: \" auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 4,\n          className: \"book-ticket-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text red\",\n            children: [\" \", line.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text\",\n            children: [\" Kh\\u1EDFi h\\xE0nh : \", line.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text\",\n            children: \" \\u0110i\\u1EC3m \\u0111\\u1EBFn : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text\",\n            children: [\"S\\u1ED1 gh\\u1EBF : \", seatSelected]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text\",\n            children: \"T\\u1ED5ng ti\\u1EC1n v\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text red\",\n            children: totalPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"d\",\n            className: \"bus-img\",\n            src: \"/images/xe-nha-1.png\",\n            style: {\n              width: \"240px\",\n              marginTop: \"15px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 7,\n          className: \"book-ticket-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"book-ticket-text red\",\n            children: \"S\\u01A1 \\u0111\\u1ED3 gh\\u1EBF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              padding: \"36px\",\n              overflowY: \"scroll\",\n              maxHeight: \"75vh\"\n            },\n            children: Object.keys(tickets).map(i => /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: tickets[i] === \"blank\" ? 'empty-seat' : 'booked-seat',\n                onClick: () => {\n                  changeSeatSelected(i);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    width: \"70px\"\n                  },\n                  src: seatimg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: i\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-ticket-col\",\n        style: {\n          maxWidth: \"750px\",\n          marginTop: \"3em\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(BookTicket, \"hVAW0b+Rcn8y11NBtAzqhxQqOA4=\", false, function () {\n  return [useParams, useParams];\n});\n\n_c = BookTicket;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookTicket\");","map":{"version":3,"sources":["E:/code/newREACT/tugi-react/tugibus/src/pages/BookTicket.js"],"names":["React","useState","useContext","useEffect","Apis","endpoints","useParams","Card","Row","Col","Form","Button","Table","FormControl","seatimg","BookTicket","tripId","lineId","seatSelected","setSeatSelected","tickets","setTickets","trip","setTrip","line","setLine","totalPrice","Number","extra_changes","price","changeSeatSelected","id","loadTicket","res","get","data","err","console","error","loadTrip","loadLine","point","start_point","log","minHeight","maxWidth","margin","name","width","marginTop","padding","overflowY","maxHeight","Object","keys","map","i"],"mappings":"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","sourcesContent":["import React, { useState , useContext, useEffect} from 'react'\r\nimport Apis, { endpoints } from \"../configs/Apis\";\r\nimport { useParams } from 'react-router-dom'\r\nimport {Card, Row, Col, Form,Button,Table, FormControl} from \"react-bootstrap\";\r\nimport seatimg from '../icon/account.svg'\r\nimport \"./BookTicket.css\"\r\n\r\n\r\nexport default function BookTicket(){\r\n\r\n    const {tripId} = useParams()\r\n    const {lineId} = useParams()\r\n    const[seatSelected, setSeatSelected] = useState(\"\")\r\n    const[tickets, setTickets] = useState({})\r\n    const[trip, setTrip] = useState({})\r\n    const[line, setLine] = useState({})\r\n\r\n    const totalPrice = Number(trip.extra_changes) + Number(line.price)\r\n\r\n    const changeSeatSelected=(id)=>{\r\n        setSeatSelected(id)\r\n    }\r\n    useEffect(() => {\r\n        const loadTicket = async ()=>{\r\n            try{\r\n                let res = await Apis.get(endpoints['tickets'](tripId))\r\n                setTickets(res.data)\r\n            }catch(err){\r\n                console.error(err)\r\n            }\r\n        }\r\n        const loadTrip = async ()=>{\r\n            try{\r\n                let res = await Apis.get(`${endpoints['trips']}${tripId}/`)\r\n                setTrip(res.data)  \r\n            }catch(err){\r\n                console.error(err)\r\n            }\r\n        }\r\n        const loadLine = async ()=>{\r\n            try{\r\n                let res = await Apis.get(endpoints['line'](lineId))\r\n                setLine(res.data)  \r\n            }catch(err){\r\n                console.error(err)\r\n            }\r\n        }\r\n        loadTicket() \r\n        loadTrip() \r\n        loadLine()   \r\n    },[])\r\n    const point = line.start_point\r\n    console.log(point)\r\n    return(\r\n        <>\r\n            <div style={{minHeight:\"55vh\"}}>\r\n                <h1 className=\"title-page\"> Đặt vé xe </h1>\r\n                <Row style={{maxWidth: \"900px\", margin: \" auto\"}}>\r\n                    <Col sm={4} className=\"book-ticket-col\" >\r\n                        <p className=\"book-ticket-text red\"> {line.name}</p>\r\n                        <p className=\"book-ticket-text\"> Khởi hành : {line.price}</p>\r\n                        <p className=\"book-ticket-text\" > Điểm đến : </p>\r\n                        <p className=\"book-ticket-text\" >Số ghế : {seatSelected}</p>\r\n                        <p className=\"book-ticket-text\" >Tổng tiền vé</p>\r\n                        <p className=\"book-ticket-text red\">{totalPrice}</p>\r\n                        <img alt=\"d\" className=\"bus-img\" src=\"/images/xe-nha-1.png\"  style={{width:\"240px\", marginTop:\"15px\"}}/>\r\n                    </Col>\r\n                    <Col md=\"auto\"></Col>\r\n                    <Col sm={7} className=\"book-ticket-col\">\r\n                        <p className=\"book-ticket-text red\">Sơ đồ ghế</p>\r\n                        <Row style={{padding:\"36px\", overflowY:\"scroll\", maxHeight:\"75vh\"}}>\r\n                            {Object.keys(tickets).map(i => \r\n                                <Col key={i} md={3} xs={12}>\r\n                                    <button className={tickets[i] === \"blank\" ? 'empty-seat' : 'booked-seat'} onClick={() => { changeSeatSelected(i) }}>\r\n                                        <img style={{width:\"70px\"}} src={seatimg} />\r\n                                        <p style={{margin:\"0\"}}>{i}</p>\r\n                                    </button>\r\n                                </Col>\r\n                                )}\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n                <div className='book-ticket-col' style={{maxWidth: \"750px\", marginTop:\"3em\"}}>\r\n                    {/* <Form>\r\n                        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                            <Form.Label>Email address</Form.Label>\r\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" />\r\n                            <Form.Text className=\"text-muted\">\r\n                            We'll never share your email with anyone else.\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\" />\r\n                        </Form.Group>\r\n                        <div className=\"d-grid gap-2\">\r\n                            <button \r\n                            className=\"btn btn-secondary btn-lg\" \r\n                            style={{background:\"linear-gradient(90deg, rgb(119, 199, 253) 0%, rgb(26, 23, 23) 100%)\"}} \r\n                            variant=\"secondary\" \r\n                            size=\"lg\"\r\n                            >\r\n                                Đặt vé\r\n                            </button>\r\n                        </div>\r\n                    </Form> */}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}