{"ast":null,"code":"var _jsxFileName = \"E:\\\\code\\\\newREACT\\\\tugi-react\\\\tugibus\\\\src\\\\layouts\\\\TicketDetail.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport { Card, Row, Col, Form, Button, Table, FormControl, Modal } from \"react-bootstrap\";\nimport React, { useState, useEffect } from 'react';\nimport Apis, { endpoints } from '../configs/Apis';\nimport cookies from \"react-cookies\";\nimport './TicketDetail.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapMarkerAlt, faClock, faMoneyBillWave } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TicketDetail(props) {\n  _s();\n\n  const [detail, setDetail] = useState([]);\n  const [content, setContent] = useState('');\n  const [show, setShow] = useState(false);\n  const [flag, setFlag] = useState();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    const loadDetail = async () => {\n      let res = await Apis.get(endpoints[\"ticket-detail\"](props.obj.id), {\n        headers: {\n          'Authorization': `Bearer ${cookies.load(\"access_token\")}`\n        }\n      });\n      setDetail(res.data);\n    };\n\n    const loadFeedback = async () => {\n      let res = await Apis.get(endpoints[\"get-feedback\"](props.obj.trip.id), {\n        headers: {\n          'Authorization': `Bearer ${cookies.load(\"access_token\")}`\n        }\n      });\n      console.log(res.data);\n    };\n\n    loadDetail(); // loadFeedback()\n  }, []);\n  console.log(props.obj.trip.id);\n\n  const sendFeedback = event => {\n    event.preventDefault();\n\n    let postFeedback = async () => {\n      const formData = new FormData();\n      formData.append(\"content\", content);\n      let res = await Apis.post(endpoints[\"feedback\"](props.obj.id), formData, {\n        headers: {\n          'Authorization': `Bearer ${cookies.load(\"access_token\")}`\n        }\n      });\n      console.log(res.data);\n      handleClose();\n      if (res.data !== null) setFlag(false);\n    };\n\n    postFeedback();\n  }; // console.log(detail)\n  // console.log(props.obj)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        marginTop: \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        style: {\n          border: \"3px solid rgb(210, 225, 239)\",\n          padding: \"0 12px 0 0\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            style: {\n              textAlign: \"center\",\n              borderRight: \"3px dotted rgb(210, 225, 239)\",\n              position: \"relative\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\",\n                position: \"absolute\",\n                left: \"38%\",\n                top: \"30%\"\n              },\n              children: \"GH\\u1EBE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                marginBottom: \"0\",\n                fontSize: \"3rem\",\n                color: \"rgb(30, 105, 175)\",\n                position: \"absolute\",\n                left: \"32%\",\n                top: \"42%\"\n              },\n              children: detail.seat_position\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 7,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginLeft: \"10px\",\n                textAlign: \"left\",\n                marginTop: \"5px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: [\"M\\xC3 V\\xC9:  \", props.obj.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: \"1.5rem\",\n                  textTransform: \"uppercase\",\n                  fontWeight: \"bold\"\n                },\n                children: [props.obj.customer.first_name, \" \", props.obj.customer.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faClock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this), \" KH\\u1EDEI H\\xC0NH:  \", props.obj.trip.start_time]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faMapMarkerAlt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 37\n                }, this), \" \", props.obj.trip.line.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faMoneyBillWave\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 37\n                }, this), \" GI\\xC1 V\\xC9: \", detail.current_price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this), flag === false ? /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  backgroundColor: \"green\",\n                  marginBottom: \"5px\"\n                },\n                disabled: true,\n                children: \"\\u0110\\xE3 ph\\u1EA3n h\\u1ED3i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  backgroundColor: \"rgb(30, 105, 175)\",\n                  marginBottom: \"5px\"\n                },\n                onClick: handleShow,\n                children: \"Vi\\u1EBFt ph\\u1EA3n h\\u1ED3i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            style: {\n              backgroundColor: \"rgb(30, 105, 175)\",\n              textAlign: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                writingMode: \"vertical-lr\",\n                fontSize: \"3rem\",\n                textOrientation: \"mixed\",\n                color: \"#fff\",\n                margin: \"0\"\n              },\n              children: \"TUGI TUGI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Vi\\u1EBFt ph\\u1EA3n h\\u1ED3i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formAddress\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              placeholder: \"Vi\\u1EBFt ph\\u1EA3n h\\u1ED3i...\",\n              style: {\n                height: '100px'\n              },\n              value: content,\n              onChange: event => setContent(event.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: handleClose,\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"rgb(30, 105, 175)\"\n            },\n            type: \"submit\",\n            variant: \"primary\",\n            onClick: sendFeedback,\n            children: \"L\\u01B0u ch\\u1EC9nh s\\u1EEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TicketDetail, \"2Xsv5PO2zf8UgMz+Zd+j29Pst1c=\");\n\n_c = TicketDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"TicketDetail\");","map":{"version":3,"sources":["E:/code/newREACT/tugi-react/tugibus/src/layouts/TicketDetail.js"],"names":["Link","Card","Row","Col","Form","Button","Table","FormControl","Modal","React","useState","useEffect","Apis","endpoints","cookies","FontAwesomeIcon","faMapMarkerAlt","faClock","faMoneyBillWave","TicketDetail","props","detail","setDetail","content","setContent","show","setShow","flag","setFlag","handleClose","handleShow","loadDetail","res","get","obj","id","headers","load","data","loadFeedback","trip","console","log","sendFeedback","event","preventDefault","postFeedback","formData","FormData","append","post","marginTop","border","padding","textAlign","borderRight","position","fontWeight","left","top","marginBottom","fontSize","color","seat_position","marginLeft","textTransform","customer","first_name","last_name","start_time","line","name","current_price","backgroundColor","writingMode","textOrientation","margin","height","target","value"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\r\nimport {Card, Row, Col, Form,Button,Table, FormControl, Modal} from \"react-bootstrap\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport Apis, { endpoints } from '../configs/Apis';\r\nimport cookies from \"react-cookies\"\r\nimport './TicketDetail.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMapMarkerAlt, faClock, faMoneyBillWave } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function TicketDetail(props){\r\n    const [detail, setDetail] = useState([])\r\n\r\n    const [content, setContent] = useState('')\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const [flag, setFlag] = useState()\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    useEffect(() => {\r\n        const loadDetail = async ()=>{\r\n            let res = await Apis.get(endpoints[\"ticket-detail\"](props.obj.id),{\r\n                headers:{\r\n                    'Authorization': `Bearer ${cookies.load(\"access_token\")}`\r\n                }\r\n            })\r\n            setDetail(res.data)\r\n        }\r\n        const loadFeedback = async ()=>{\r\n            let res = await Apis.get(endpoints[\"get-feedback\"](props.obj.trip.id),{\r\n                headers:{\r\n                    'Authorization': `Bearer ${cookies.load(\"access_token\")}`\r\n                }\r\n            })\r\n            console.log(res.data)\r\n        }\r\n        loadDetail()\r\n        // loadFeedback()\r\n        \r\n    },[])\r\n    console.log(props.obj.trip.id)\r\n\r\n    const sendFeedback = (event) =>{\r\n        event.preventDefault()\r\n\r\n        let postFeedback = async () =>{\r\n            const formData = new FormData()\r\n            formData.append(\"content\", content)\r\n\r\n            let res = await Apis.post(endpoints[\"feedback\"](props.obj.id), formData,{\r\n                headers: {\r\n                    'Authorization': `Bearer ${cookies.load(\"access_token\")}`\r\n                }\r\n            })\r\n            console.log(res.data)\r\n            handleClose()\r\n            if(res.data !== null) setFlag(false)\r\n        }\r\n\r\n        postFeedback()\r\n    }\r\n\r\n    // console.log(detail)\r\n    // console.log(props.obj)\r\n\r\n\r\n    return(\r\n        <>\r\n            <Card style={{marginTop:\"10px\"}}>\r\n                <Card.Body style={{border:\"3px solid rgb(210, 225, 239)\", padding:\"0 12px 0 0\"}}>\r\n                    <Row>\r\n                        <Col md={3} style={{textAlign:\"center\", borderRight:\"3px dotted rgb(210, 225, 239)\", position:\"relative\"}}>\r\n                            <span style={{fontWeight:\"bold\", position:\"absolute\", left:\"38%\", top:\"30%\"}}>\r\n                                GHẾ\r\n                            </span>\r\n                            <h2 style={{marginBottom:\"0\", fontSize:\"3rem\", color:\"rgb(30, 105, 175)\", position:\"absolute\", left:\"32%\", top:\"42%\"}}>\r\n                                {detail.seat_position}\r\n                            </h2>\r\n                        </Col>\r\n                        <Col md={7}>\r\n                            <div style={{marginLeft:\"10px\", textAlign:\"left\", marginTop:\"5px\"}}>\r\n                                <span style={{fontWeight:\"bold\"}}>\r\n                                    MÃ VÉ:  {props.obj.id}\r\n                                </span>\r\n                                <p style={{fontSize:\"1.5rem\",textTransform:\"uppercase\", fontWeight:\"bold\"}}>{props.obj.customer.first_name} {props.obj.customer.last_name}</p>\r\n                                <span style={{fontWeight:\"bold\"}}>\r\n                                    <FontAwesomeIcon icon={faClock}/> KHỞI HÀNH:  {props.obj.trip.start_time}\r\n                                </span>\r\n                                <p style={{fontWeight:\"bold\"}}>\r\n                                    <FontAwesomeIcon icon={faMapMarkerAlt}/> {props.obj.trip.line.name}\r\n                                </p>\r\n                                <p style={{fontWeight:\"bold\"}}>\r\n                                    <FontAwesomeIcon icon={faMoneyBillWave}/> GIÁ VÉ: {detail.current_price}\r\n                                </p>\r\n                                {flag === false?(\r\n                                    <Button style={{backgroundColor:\"green\", marginBottom:\"5px\"}} disabled>\r\n                                        Đã phản hồi\r\n                                    </Button>\r\n                                ):(\r\n                                    <Button style={{backgroundColor:\"rgb(30, 105, 175)\", marginBottom:\"5px\"}} onClick={handleShow}>\r\n                                        Viết phản hồi\r\n                                    </Button>\r\n                                )}\r\n                                \r\n                                \r\n\r\n                            </div>\r\n                            \r\n                        </Col>\r\n                        <Col md={2} style={{backgroundColor:\"rgb(30, 105, 175)\", textAlign:\"center\"}}>\r\n                            <p style={{writingMode:\"vertical-lr\", fontSize:\"3rem\", textOrientation:\"mixed\", color:\"#fff\", margin:\"0\"}}>\r\n                                TUGI TUGI\r\n                            </p>\r\n\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n            </Card>\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Form >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Viết phản hồi</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Form.Group className=\"mb-3\" controlId=\"formAddress\">\r\n                            <Form.Control\r\n                            as=\"textarea\"\r\n                            placeholder=\"Viết phản hồi...\"\r\n                            style={{ height: '100px' }}\r\n                            value={content}\r\n                            onChange={(event) => setContent(event.target.value)}\r\n                            />\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        Đóng \r\n                    </Button>\r\n                    <Button style={{backgroundColor:\"rgb(30, 105, 175)\"}} type=\"submit\" variant=\"primary\" onClick={sendFeedback}>\r\n                        Lưu chỉnh sửa\r\n                    </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n                \r\n            </Modal>\r\n        </>\r\n        \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}